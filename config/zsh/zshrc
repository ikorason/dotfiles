# Path to Oh My Zsh
export ZSH="$HOME/.oh-my-zsh"

# Theme (using starship instead - see bottom of file)
ZSH_THEME=""

# Plugins
plugins=(
    git
    zsh-autosuggestions
    zsh-syntax-highlighting
    z
)

# Load Oh My Zsh
source $ZSH/oh-my-zsh.sh

# ===== Environment Variables =====
export EDITOR="nvim"
export VISUAL="nvim"
export LANG="en_US.UTF-8"

# ===== Path =====
# Homebrew (Apple Silicon)
if [[ -f "/opt/homebrew/bin/brew" ]]; then
    eval "$(/opt/homebrew/bin/brew shellenv)"
fi

# ===== Aliases =====
# Navigation
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."

# Modern replacements
alias ls="eza --icons"
alias ll="eza -la --icons"
alias la="eza -a --icons"
alias lt="eza --tree --icons"
alias cat="bat"

# Git
alias g="git"
alias gs="git status"
alias ga="git add"
alias gc="git commit"
alias gp="git push"
alias gl="git pull"
alias gd="git diff"
alias gco="git checkout"
alias gb="git branch"
alias lg="lazygit"

# Neovim
alias v="nvim"
alias vim="nvim"

# Tmux
alias t="tmux"
alias ta="tmux attach"
alias tn="tmux new -s"
alias tl="tmux list-sessions"

# Docker
alias d="docker"
alias dc="docker compose"
alias dps="docker ps"
alias dpsa="docker ps -a"
alias di="docker images"
alias dex="docker exec -it"
alias dlogs="docker logs -f"
alias dstop="docker stop"
alias drm="docker rm"
alias drmi="docker rmi"
alias dprune="docker system prune -af"
alias lzd="lazydocker"

# Misc
alias c="clear"
alias reload="source ~/.zshrc"

# ===== Tool Initialization =====
# Zoxide (better cd)
if command -v zoxide &> /dev/null; then
    eval "$(zoxide init zsh)"
fi

# fzf
if command -v fzf &> /dev/null; then
    source <(fzf --zsh)
fi

# Starship prompt
if command -v starship &> /dev/null; then
    eval "$(starship init zsh)"
fi

# ===== Local Config =====
# Source machine-specific settings (not tracked in git)
if [[ -f "$HOME/.zshrc.local" ]]; then
    source "$HOME/.zshrc.local"
fi
